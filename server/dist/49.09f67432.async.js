webpackJsonp([49],{713:function(e,a,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var r=t(76),o=n(r),c=t(812),u=n(c),d=t(7),i=n(d),l=t(120),s=n(l);t(813);var f=t(292),p=t(178),h=n(p),y=t(183);a.default={namespace:"offline",state:{list:{},usernameData:[],supplierData:[],cityData:[],cityData2:[],loading:!1,isDill:!1,changeInfo:[],schemeInfo:[{supplierName:"",unitprice:"",flight:""}],originalPlans:[],orderDetail:{},currentOrder:""},effects:{fetch:s.default.mark(function e(a,t){var n,r=a.payload,o=t.call,c=t.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({type:"changeLoading",payload:!0});case 2:return e.next=4,o(f.offlineList,r);case 4:return n=e.sent,e.next=7,c({type:"queryList",payload:n});case 7:return e.next=9,c({type:"changeLoading",payload:!1});case 9:case"end":return e.stop()}},e,this)}),fetchDetail:s.default.mark(function e(a,t){var n,r=a.payload,o=t.call,c=t.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({type:"changeLoading",payload:!0});case 2:return e.next=4,o(f.orderDetail,r);case 4:if(!(n=e.sent)||200!=n.code){e.next=8;break}return e.next=8,c({type:"getDetail",payload:(0,i.default)({},n,{curId:r.id})});case 8:return e.next=10,c({type:"changeLoading",payload:!1});case 10:case"end":return e.stop()}},e,this)}),delOrder:s.default.mark(function e(a,t){var n,r,o=a.payload,c=t.call,d=t.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({type:"changeLoading",payload:!0});case 2:return e.next=4,c(f.delOrder,{id:o.id});case 4:if(n=e.sent,200!=n.code){e.next=10;break}return u.default.success("\u64cd\u4f5c\u6210\u529f"),r=o.listParams,e.next=10,d({type:"fetch",payload:r});case 10:return e.next=12,d({type:"changeLoading",payload:!1});case 12:case"end":return e.stop()}},e,this)}),addOrder:s.default.mark(function e(a,t){var n,r=a.payload,o=t.call,c=t.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({type:"changeLoading",payload:!0});case 2:return e.next=4,o(f.addOrder,r);case 4:if(n=e.sent,200!=n.code){e.next=9;break}return u.default.success("\u64cd\u4f5c\u6210\u529f"),e.next=9,c(y.routerRedux.push("/offline/order"));case 9:return e.next=11,c({type:"changeLoading",payload:!1});case 11:case"end":return e.stop()}},e,this)}),updateOrder:s.default.mark(function e(a,t){var n,r=a.payload,o=t.call,c=t.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({type:"changeLoading",payload:!0});case 2:return e.next=4,o(f.updateOrder,r);case 4:if(n=e.sent,200!=n.code){e.next=9;break}return u.default.success("\u4fee\u6539\u6210\u529f"),e.next=9,c(y.routerRedux.push("/offline/order"));case 9:return e.next=11,c({type:"changeLoading",payload:!1});case 11:case"end":return e.stop()}},e,this)}),addOneChange:s.default.mark(function e(a,t){var n,r=a.payload,o=t.call,c=t.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({type:"changeLoading",payload:!0});case 2:return e.next=4,o(f.addChange,r);case 4:if(n=e.sent,200!=n.code){e.next=11;break}return u.default.success("\u64cd\u4f5c\u6210\u529f"),e.next=9,c({type:"getOneChange",payload:r});case 9:return e.next=11,c({type:"isShowModal",payload:!1});case 11:return e.next=13,c({type:"changeLoading",payload:!1});case 13:case"end":return e.stop()}},e,this)}),outExcel:s.default.mark(function e(a,t){var n,r=a.payload,o=t.call,c=t.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({type:"changeLoading",payload:!0});case 2:return e.next=4,o(f.outExcel,r);case 4:return n=e.sent,200==n.code&&(u.default.success("\u64cd\u4f5c\u6210\u529f"),window.location.href=n.data.url),e.next=8,c({type:"changeLoading",payload:!1});case 8:case"end":return e.stop()}},e,this)}),searchCustomer:s.default.mark(function e(a,t){var n,r=a.payload,o=t.call,c=t.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(f.searchCustomer,r);case 2:if(n=e.sent,200!=n.code){e.next=6;break}return e.next=6,c({type:"getCustomers",payload:n.data?n.data:[]});case 6:case"end":return e.stop()}},e,this)}),searchSupplier:s.default.mark(function e(a,t){var n,r=a.payload,o=t.call,c=t.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(f.searchSupplier,r);case 2:if(!(n=e.sent)||200!=n.code){e.next=6;break}return e.next=6,c({type:"getSupplier",payload:n.data?n.data:[]});case 6:case"end":return e.stop()}},e,this)}),searchCity:s.default.mark(function e(a,t){var n,r,o=a.payload,c=t.call,u=t.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(f.searchCity,{condition:o.condition});case 2:if(!(n=e.sent)||200!=n.code){e.next=8;break}return n.data.length>10&&(n.data=n.data.splice(0,10)),r=n.data.map(function(e,a){return e.cityName}),e.next=8,u({type:"getCity",payload:{data:r,arrFlag:o.arrFlag}});case 8:case"end":return e.stop()}},e,this)}),delOneSchemeWithid:s.default.mark(function e(a,t){var n,r=a.payload,o=t.call,c=t.put;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(f.delSchemeWithid,{id:r.id});case 2:if(!(n=e.sent)||200!=n.code){e.next=6;break}return e.next=6,c({type:"delOneScheme",payload:r.index});case 6:case"end":return e.stop()}},e,this)})},reducers:{queryList:function(e,a){return(0,i.default)({},e,{list:a.payload})},getDetail:function(e,a){var t=a.payload.data.endorse.map(function(e,a){return e.handleDate=(0,h.default)(e.handleDate),e});return(0,i.default)({},e,{orderDetail:a.payload.data,schemeInfo:a.payload.data.plans.length>0?a.payload.data.plans:[{supplierName:"",unitprice:"",flight:""}],changeInfo:t,currentOrder:a.payload.curId,originalPlans:a.payload.data.plans})},changeLoading:function(e,a){return(0,i.default)({},e,{loading:a.payload})},delOneChange:function(e,a){var t=e.changeInfo;return t.splice(a.payload,1),(0,i.default)({},e,{changeInfo:t})},getOneChange:function(e,a){a.payload.handleDate=(0,h.default)(a.payload.handleDate,"YYYY-MM-DD"),e.changeInfo.push(a.payload);var t=e.changeInfo;return(0,i.default)({},e,{changeInfo:t})},changeChangeInfo:function(e,a){return(0,i.default)({},e,{changeInfo:a.payload})},addOneScheme:function(e,a){e.schemeInfo.push({supplierName:"",unitprice:"",flight:"",orderId:a.payload});var t=e.schemeInfo;return(0,i.default)({},e,{schemeInfo:t})},changeSchemeInfo:function(e,a){return(0,i.default)({},e,{schemeInfo:a.payload})},delOneScheme:function(e,a){var t=e.schemeInfo;return t.splice(a.payload,1),(0,i.default)({},e,{schemeInfo:t})},getCustomers:function(e,a){return(0,i.default)({},e,{usernameData:a.payload})},getCity:function(e,a){var t=a.payload.arrFlag?"cityData2":"cityData";return(0,i.default)({},e,(0,o.default)({},t,a.payload.data))},getSupplier:function(e,a){return(0,i.default)({},e,{supplierData:a.payload})},resetPlansAndEndorse:function(e,a){return(0,i.default)({},e,{schemeInfo:[{supplierName:"",unitprice:"",flight:""}],changeInfo:[]})},isShowModal:function(e,a){return(0,i.default)({},e,{isShowModal:a.payload})},changeSelected:function(e,a){var t=e.schemeInfo.map(function(e,t){return a.payload==t?e.selected=1:e.selected=0,e});return(0,i.default)({},e,{schemeInfo:t})}}},e.exports=a.default},812:function(e,a,t){"use strict";function n(e){if(l)return void e(l);c.default.newInstance({prefixCls:f,transitionName:"move-up",style:{top:i},getContainer:p},function(a){if(l)return void e(l);l=a,e(a)})}function r(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,t=arguments[2],r=arguments[3],c={info:"info-circle",success:"check-circle",error:"cross-circle",warning:"exclamation-circle",loading:"loading"}[t];"function"==typeof a&&(r=a,a=d);var i=s++;return n(function(n){n.notice({key:i,duration:a,style:{},content:o.createElement("div",{className:f+"-custom-content "+f+"-"+t},o.createElement(u.default,{type:c}),o.createElement("span",null,e)),onClose:r})}),function(){l&&l.removeNotice(i)}}Object.defineProperty(a,"__esModule",{value:!0});var o=t(4),c=(t.n(o),t(295)),u=t(289),d=3,i=void 0,l=void 0,s=1,f="ant-message",p=void 0;a.default={info:function(e,a,t){return r(e,a,"info",t)},success:function(e,a,t){return r(e,a,"success",t)},error:function(e,a,t){return r(e,a,"error",t)},warn:function(e,a,t){return r(e,a,"warning",t)},warning:function(e,a,t){return r(e,a,"warning",t)},loading:function(e,a,t){return r(e,a,"loading",t)},config:function(e){void 0!==e.top&&(i=e.top,l=null),void 0!==e.duration&&(d=e.duration),void 0!==e.prefixCls&&(f=e.prefixCls),void 0!==e.getContainer&&(p=e.getContainer)},destroy:function(){l&&(l.destroy(),l=null)}}},813:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t(176),r=(t.n(n),t(849));t.n(r)},849:function(e,a){}});