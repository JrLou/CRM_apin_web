webpackJsonp([49],{713:function(e,a,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var r=t(76),c=n(r),u=t(812),o=n(u),d=t(7),s=n(d),l=t(120),i=n(l);t(813);var f=t(292),p=t(178),h=n(p),y=t(183);a.default={namespace:"offline",state:{list:{},usernameData:[],supplierData:[],cityData:[],cityData2:[],loading:!1,isDill:!1,changeInfo:[],schemeInfo:[{supplierName:"",unitprice:"",flight:""}],originalPlans:[],orderDetail:{},currentOrder:""},effects:{fetch:i.default.mark(function e(a,t){var n,r=a.payload,c=t.call,u=t.put;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({type:"changeLoading",payload:!0});case 2:return e.next=4,c(f.offlineList,r);case 4:return n=e.sent,e.next=7,u({type:"queryList",payload:n});case 7:return e.next=9,u({type:"changeLoading",payload:!1});case 9:case"end":return e.stop()}},e,this)}),fetchDetail:i.default.mark(function e(a,t){var n,r=a.payload,c=t.call,u=t.put;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({type:"changeLoading",payload:!0});case 2:return e.next=4,c(f.orderDetail,r);case 4:if(!(n=e.sent)||200!=n.code){e.next=8;break}return e.next=8,u({type:"getDetail",payload:(0,s.default)({},n,{curId:r.id})});case 8:return e.next=10,u({type:"changeLoading",payload:!1});case 10:case"end":return e.stop()}},e,this)}),delOrder:i.default.mark(function e(a,t){var n,r=a.payload,c=t.call,u=t.put;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({type:"changeLoading",payload:!0});case 2:return e.next=4,c(f.delOrder,r);case 4:return n=e.sent,200==n.code?o.default.success("\u64cd\u4f5c\u6210\u529f"):o.default.error(n.message),e.next=8,u({type:"changeLoading",payload:!1});case 8:case"end":return e.stop()}},e,this)}),addOrder:i.default.mark(function e(a,t){var n,r=a.payload,c=t.call,u=t.put;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({type:"changeLoading",payload:!0});case 2:return e.next=4,c(f.addOrder,r);case 4:if(n=e.sent,200!=n.code){e.next=11;break}return o.default.success("\u64cd\u4f5c\u6210\u529f"),e.next=9,u(y.routerRedux.push("/offline/order"));case 9:e.next=12;break;case 11:o.default.error(n.message);case 12:return e.next=14,u({type:"changeLoading",payload:!1});case 14:case"end":return e.stop()}},e,this)}),updateOrder:i.default.mark(function e(a,t){var n,r=a.payload,c=t.call,u=t.put;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({type:"changeLoading",payload:!0});case 2:return e.next=4,c(f.updateOrder,r);case 4:if(n=e.sent,200!=n.code){e.next=11;break}return o.default.success("\u4fee\u6539\u6210\u529f"),e.next=9,u(y.routerRedux.push("/offline/order"));case 9:e.next=12;break;case 11:o.default.error(n.message);case 12:return e.next=14,u({type:"changeLoading",payload:!1});case 14:case"end":return e.stop()}},e,this)}),addOneChange:i.default.mark(function e(a,t){var n,r=a.payload,c=t.call,u=t.put;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({type:"changeLoading",payload:!0});case 2:return e.next=4,c(f.addChange,r);case 4:if(n=e.sent,200!=n.code){e.next=11;break}return o.default.success("\u64cd\u4f5c\u6210\u529f"),e.next=9,u({type:"getOneChange",payload:r});case 9:e.next=12;break;case 11:o.default.error(n.message);case 12:return e.next=14,u({type:"changeLoading",payload:!1});case 14:case"end":return e.stop()}},e,this)}),outExcel:i.default.mark(function e(a,t){var n,r=a.payload,c=t.call,u=t.put;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({type:"changeLoading",payload:!0});case 2:return e.next=4,c(f.outExcel,r);case 4:return n=e.sent,200==n.code?(o.default.success("\u64cd\u4f5c\u6210\u529f"),window.location.href=n.data.url):o.default.error(n.message),e.next=8,u({type:"changeLoading",payload:!1});case 8:case"end":return e.stop()}},e,this)}),searchCustomer:i.default.mark(function e(a,t){var n,r=a.payload,c=t.call,u=t.put;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(f.searchCustomer,r);case 2:if(n=e.sent,200!=n.code){e.next=8;break}return e.next=6,u({type:"getCustomers",payload:n.data?n.data:[]});case 6:e.next=9;break;case 8:o.default.error(n.message);case 9:case"end":return e.stop()}},e,this)}),searchSupplier:i.default.mark(function e(a,t){var n,r=a.payload,c=t.call,u=t.put;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(f.searchSupplier,r);case 2:if(!(n=e.sent)||200!=n.code){e.next=8;break}return e.next=6,u({type:"getSupplier",payload:n.data?n.data:[]});case 6:e.next=9;break;case 8:o.default.error(n.message);case 9:case"end":return e.stop()}},e,this)}),searchCity:i.default.mark(function e(a,t){var n,r,c=a.payload,u=t.call,o=t.put;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(f.searchCity,{condition:c.condition});case 2:if(!(n=e.sent)||200!=n.code){e.next=8;break}return n.data.length>10&&(n.data=n.data.splice(0,10)),r=n.data.map(function(e,a){return e.cityName}),e.next=8,o({type:"getCity",payload:{data:r,arrFlag:c.arrFlag}});case 8:case"end":return e.stop()}},e,this)}),delOneSchemeWithid:i.default.mark(function e(a,t){var n,r=a.payload,c=t.call,u=t.put;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(f.delSchemeWithid,{id:r.id});case 2:if(!(n=e.sent)||200!=n.code){e.next=8;break}return e.next=6,u({type:"delOneScheme",payload:r.index});case 6:e.next=9;break;case 8:o.default.error(n.message);case 9:case"end":return e.stop()}},e,this)})},reducers:{queryList:function(e,a){return(0,s.default)({},e,{list:a.payload})},getDetail:function(e,a){return(0,s.default)({},e,{orderDetail:a.payload.data,schemeInfo:a.payload.data.plans.length>0?a.payload.data.plans:[{supplierName:"",unitprice:"",flight:""}],changeInfo:a.payload.data.endorse,currentOrder:a.payload.curId,originalPlans:a.payload.data.plans})},changeLoading:function(e,a){return(0,s.default)({},e,{loading:a.payload})},delOneChange:function(e,a){var t=e.changeInfo;return t.splice(a.payload,1),(0,s.default)({},e,{changeInfo:t})},getOneChange:function(e,a){a.payload.handle_date=(0,h.default)(a.payload.handle_date,"YYYY-MM-DD"),e.changeInfo.push(a.payload);var t=e.changeInfo;return(0,s.default)({},e,{changeInfo:t})},changeChangeInfo:function(e,a){return(0,s.default)({},e,{changeInfo:a.payload})},addOneScheme:function(e,a){e.schemeInfo.push({supplierName:"",unitprice:"",flight:"",orderId:a.payload});var t=e.schemeInfo;return(0,s.default)({},e,{schemeInfo:t})},changeSchemeInfo:function(e,a){return(0,s.default)({},e,{schemeInfo:a.payload})},delOneScheme:function(e,a){var t=e.schemeInfo;return t.splice(a.payload,1),(0,s.default)({},e,{schemeInfo:t})},getCustomers:function(e,a){return(0,s.default)({},e,{usernameData:a.payload})},getCity:function(e,a){var t=a.payload.arrFlag?"cityData2":"cityData";return(0,s.default)({},e,(0,c.default)({},t,a.payload.data))},getSupplier:function(e,a){return(0,s.default)({},e,{supplierData:a.payload})},resetPlansAndEndorse:function(e,a){return(0,s.default)({},e,{schemeInfo:[{supplierName:"",unitprice:"",flight:""}],changeInfo:[]})},changeSelected:function(e,a){var t=e.schemeInfo.map(function(e,t){return a.payload==t?e.selected=1:e.selected=0,e});return(0,s.default)({},e,{schemeInfo:t})}}},e.exports=a.default},812:function(e,a,t){"use strict";function n(e){if(l)return void e(l);u.default.newInstance({prefixCls:f,transitionName:"move-up",style:{top:s},getContainer:p},function(a){if(l)return void e(l);l=a,e(a)})}function r(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,t=arguments[2],r=arguments[3],u={info:"info-circle",success:"check-circle",error:"cross-circle",warning:"exclamation-circle",loading:"loading"}[t];"function"==typeof a&&(r=a,a=d);var s=i++;return n(function(n){n.notice({key:s,duration:a,style:{},content:c.createElement("div",{className:f+"-custom-content "+f+"-"+t},c.createElement(o.default,{type:u}),c.createElement("span",null,e)),onClose:r})}),function(){l&&l.removeNotice(s)}}Object.defineProperty(a,"__esModule",{value:!0});var c=t(4),u=(t.n(c),t(295)),o=t(289),d=3,s=void 0,l=void 0,i=1,f="ant-message",p=void 0;a.default={info:function(e,a,t){return r(e,a,"info",t)},success:function(e,a,t){return r(e,a,"success",t)},error:function(e,a,t){return r(e,a,"error",t)},warn:function(e,a,t){return r(e,a,"warning",t)},warning:function(e,a,t){return r(e,a,"warning",t)},loading:function(e,a,t){return r(e,a,"loading",t)},config:function(e){void 0!==e.top&&(s=e.top,l=null),void 0!==e.duration&&(d=e.duration),void 0!==e.prefixCls&&(f=e.prefixCls),void 0!==e.getContainer&&(p=e.getContainer)},destroy:function(){l&&(l.destroy(),l=null)}}},813:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t(176),r=(t.n(n),t(849));t.n(r)},849:function(e,a){}});